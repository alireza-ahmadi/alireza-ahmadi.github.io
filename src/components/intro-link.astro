---
interface Props {
  href: string;
  caption: string;
  captionRotation?: 0 | 1 | 2 | -1 | -2;
}

const { href, caption, captionRotation = 0 } = Astro.props;
---

<a
  class:list={[
    'font-medium relative cursor-pointer underline underline-offset-4 decoration-2 select-none',
    `after:content-[attr(data-caption)]`,
    'after:absolute after:px-2 after:py-1 after:left-1/2 after:top-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2',
    'after:opacity-0 after:transition-all after:rounded-lg after:cursor-pointer',
    'after:bg-thistle-200 after:drop-shadow-lg',
    'after:font-semibold after:text-thistle-900',
    'after:scale-50 after:z-50',
    'hover:after:opacity-100 hover:after:scale-110',
    {
      'after:-rotate-2': captionRotation === -2,
      'after:-rotate-1': captionRotation === -1,
      'after:rotate-1': captionRotation === 1,
      'after:rotate-2': captionRotation === 2,
    },
  ]}
  data-caption={caption}
  href={href}
  target="_blank"><slot /></a
>
